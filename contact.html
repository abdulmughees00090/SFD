<!-- Contact Us Section -->
<section class="section" id="contact">
  <div class="section-text">
    <h2>Contact Us</h2>
    <p>We’d love to hear from you! Please fill out the form below and our team will get back to you soon.</p>
    
    <form id="contactForm" action="https://formspree.io/f/yourFormID" method="POST">
      
      <!-- First & Last Name -->
      <label for="name">Full Name:</label>
      <input type="text" id="name" name="name" placeholder="Enter your first and last name" required minlength="5">
      
      <!-- Email -->
      <label for="email">Email Address:</label>
      <input type="email" id="email" name="_replyto" placeholder="Enter your email address" required>
      
      <!-- Message -->
      <label for="message">Your Query:</label>
      <textarea id="message" name="message" rows="6" placeholder="Type your query here..." required minlength="5" maxlength="500"></textarea>
      
      <!-- Hidden fields to set From email + Subject line -->
      <input type="hidden" name="_subject" value="New Query from Silver Fox Dynamics Website">
      <input type="hidden" name="_from" value="info@silverfoxdynamics.com">
      
      <!-- Submit Button -->
      <button type="submit">Send Message</button>
    </form>
  </div>
  <img src="images/contact.png" alt="Contact Us">
</section>

<!-- Success Notification Popup -->
<div id="popup" style="
  display:none;
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  background:#020609;
  color:#fff;
  padding:20px;
  border-radius:12px;
  box-shadow:0 4px 10px rgba(0,0,0,0.3);
  text-align:center;
  z-index:1000;
">
  <p>Your Message has been sent successfully ❤️</p>
</div>

<script>
  const form = document.getElementById('contactForm');
  const popup = document.getElementById('popup');

  form.addEventListener('submit', async function(e) {
    e.preventDefault();
    const formData = new FormData(form);

    try {
      let response = await fetch(form.action, {
        method: 'POST',
        body: formData,
        headers: { 'Accept': 'application/json' }
      });

      if (response.ok) {
        form.reset();
        popup.style.display = "block";
        setTimeout(() => { popup.style.display = "none"; }, 3000);
      } else {
        alert("Oops! Something went wrong. Please try again.");
      }
    } catch (error) {
      alert("Error submitting form. Please check your connection.");
    }
  });
</script>
